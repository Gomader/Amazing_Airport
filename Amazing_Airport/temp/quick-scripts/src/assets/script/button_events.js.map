{"version":3,"sources":["assets/script/button_events.js"],"names":["userdata","require","cc","Class","Component","properties","my_flights_window","type","Node","warehouse_window","activeflights","flights","shop_window","buildings_window","business_flights_window","setting_windows","warning_window","window","airplanes","onLoad","start","update","dt","showallflights","hide","a","instantiate","active","getChildByName","addChild","showflying","showwarehouse","fly","event","customEventData","go","lefts","leftfuel","fuel","leftpassenger","passenger","o","airplanedata","level","isflying","destination","name","reward","endtime","Date","parse","time","achievement","id","console","log","allfile","stars","inner","showwarning","toactive","toflightlist","getComponent","Label","string","showsetting","showshop","showbuildings","showbusiness","destroyAllChildren"],"mappings":"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","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar userdata = require('userdata');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        my_flights_window:{\n            type:cc.Node,\n            default:null\n        },\n        warehouse_window:{\n            type:cc.Node,\n            default:null\n        },\n        activeflights:{\n            type:cc.Node,\n            default:null\n        },\n        flights:{\n            type:cc.Node,\n            default:null\n        },\n        shop_window:{\n            type:cc.Node,\n            default:null\n        },\n        buildings_window:{\n            type:cc.Node,\n            default:null\n        },\n        business_flights_window:{\n            type:cc.Node,\n            default:null\n        },\n        setting_windows:{\n            type:cc.Node,\n            default:null\n        },\n        warning_window:{\n            type:cc.Node,\n            default:null\n        },\n        window:{\n            type:cc.Node,\n            default:null\n        },\n        airplanes:{\n            type:cc.Node,\n            default:null\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        \n    },\n\n    start () {\n\n    },\n\n    update (dt) {\n        \n    },\n    showallflights(){\n        this.hide();\n        let a = cc.instantiate(this.my_flights_window);\n        a.active = true;\n        a.getChildByName(\"active\").active = false;\n        a.getChildByName(\"inner\").active = true;\n        this.window.addChild(a);\n    },\n    showflying(){\n        this.hide();\n        let a = cc.instantiate(this.my_flights_window);\n        a.active = true;\n        a.getChildByName(\"active\").active = true;\n        a.getChildByName(\"inner\").active = false;\n        this.window.addChild(a);\n    },\n    showwarehouse(){\n        this.hide();\n        let a = cc.instantiate(this.warehouse_window);\n        a.active = true;\n        this.window.addChild(a);\n    },\n    fly:function(event,customEventData){\n        this.hide();\n        var go = 0;\n        if(userdata.lefts.leftfuel>=customEventData.fuel&&userdata.lefts.leftpassenger>=customEventData.passenger){\n            for(var o in userdata.airplanedata){\n                if(userdata.airplanedata[o].level==customEventData.level && userdata.airplanedata[o].isflying=='false'){\n                    userdata.airplanedata[o].isflying = 'true';\n                    userdata.airplanedata[o].destination = customEventData.name;\n                    userdata.airplanedata[o].reward = customEventData.reward;\n                    userdata.airplanedata[o].endtime = Date.parse(new Date())/1000 + customEventData.time;\n                    userdata.lefts.leftfuel -= customEventData.fuel;\n                    userdata.lefts.leftpassenger -= customEventData.passenger;\n                    if(userdata.achievement[customEventData.id][1]==3){\n                        console.log(\"r\");\n                    }else{\n                        userdata.achievement[customEventData.id][0] += 1;\n                        if(userdata.achievement[customEventData.id][0]==10){\n                            userdata.achievement[customEventData.id][1]+=1;\n                            userdata.allfile.stars += 1;\n                            userdata.achievement[customEventData.id][0] = 0;\n                        }\n                    }\n                    go = 1;\n                    break;\n                }\n            }\n        }\n        if(go == 0){\n            if(userdata.lefts.leftfuel<customEventData.fuel||userdata.lefts.leftpassenger<customEventData.passenger){\n                let inner = 'Do not have enough fuel or passengers';\n                this.showwarning(inner);\n            }else{\n                let inner = 'Do not have an avilable plane of the required type.\\nBuy a new plane or wait for the current flights to return.'\n                this.showwarning(inner);\n            }\n        }\n    },\n\n    toactive(){\n        this.window.getChildByName(\"My_flights_window\").getChildByName(\"active\").active = true;\n        this.window.getChildByName(\"My_flights_window\").getChildByName(\"inner\").active = false;\n    },\n\n    toflightlist(){\n        this.window.getChildByName(\"My_flights_window\").getChildByName(\"active\").active = false;\n        this.window.getChildByName(\"My_flights_window\").getChildByName(\"inner\").active = true;\n    },\n\n    showwarning(inner){\n        this.warning_window.getChildByName(\"warning_window\").getChildByName(\"inner\").getComponent(cc.Label).string = inner;\n        let a = cc.instantiate(warning_window);\n        a.active = true;\n        this.window.addChild(a);\n    },\n    showsetting(){\n        this.hide();\n        let a = cc.instantiate(this.setting_windows);\n        a.active = true;\n        this.window.addChild(a);\n    },\n    showshop(){\n        this.hide();\n        let a = cc.instantiate(this.shop_window);\n        a.active = true;\n        this.window.addChild(a);\n    },\n    showbuildings(){\n        this.hide();\n        let a = cc.instantiate(this.buildings_window);\n        a.active = true;\n        this.window.addChild(a);\n    },\n    showbusiness(){\n        this.hide();\n        let a = cc.instantiate(this.business_flights_window);\n        a.active = true;\n        this.window.addChild(a);\n    },\n    hide(){\n        this.window.destroyAllChildren();\n    }\n});\n"]}