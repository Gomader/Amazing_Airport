
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/runway_scene.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '660dfXmAJ1O54O3BLVKKhKx', 'runway_scene');
// script/runway_scene.js

"use strict";

var userdata = require('userdata');

cc.Class({
  "extends": cc.Component,
  properties: {
    userid: cc.Integer,
    runway: {
      type: cc.Node,
      "default": null
    },
    road: {
      type: cc.Node,
      "default": null
    },
    stand: {
      type: cc.Node,
      "default": null
    },
    airplaneOnStand: {
      type: cc.Node,
      "default": null
    },
    username: {
      type: cc.Label,
      "default": null
    },
    stars: {
      type: cc.Label,
      "default": null
    },
    fuel: {
      type: cc.ProgressBar,
      "default": null
    },
    fuelnum: {
      type: cc.Label,
      "default": null
    },
    fuelclock: {
      type: cc.Node,
      "default": null
    },
    fuelclocknumber: {
      type: cc.Label,
      "default": null
    },
    passenger: {
      type: cc.ProgressBar,
      "default": null
    },
    passengernum: {
      type: cc.Label,
      "default": null
    },
    passengerclock: {
      type: cc.Node,
      "default": null
    },
    passengerclocknumber: {
      type: cc.Label,
      "default": null
    },
    coins: {
      type: cc.Label,
      "default": null
    },
    maxfuel: cc.Integer,
    maxpassenger: cc.Integer,
    allclock: Object,
    time: cc.Integer
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.node.opacity = 0;
    this.userid = cc.sys.localStorage.getItem("id");
    this.allclock = {
      fuelclock: {
        runstate: false,
        timenumber: 0
      },
      passengerclock: {
        runstate: false,
        timenumber: 0
      }
    }, userdata.lefts = {
      leftfuel: 0,
      leftpassenger: 0
    };
    userdata.runwaystate = [false, false];
    this.newuser();
    this.backtogame(cc.sys.localStorage.getItem("stars"));
  },
  start: function start() {
    this.startclock();
    this.node.runAction(cc.fadeIn(1.0));
  },
  update: function update(dt) {
    this.showmap();
  },
  newuser: function newuser() {
    if (this.userid == null) {
      cc.director.loadScene("homepage_scene");
    } else {
      this.node.runAction(cc.sequence(cc.callFunc(this.downloadAirplaneData, this), cc.callFunc(this.downloadUserData, this), cc.callFunc(this.inits, this)));
    }
  },
  downloadUserData: function downloadUserData() {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://www.zhangmingzhe.cn/amazing_airport/amazing_airport.php?module=1", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText != 0) {
          var data = JSON.parse(xhr.responseText);
          userdata.allfile = data;
        }
      }
    };
  },
  uploadUserData: function uploadUserData() {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://www.zhangmingzhe.cn/amazing_airport/amazing_airport.php?module=2", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid + "&userData=" + JSON.stringify(userdata.allfile));

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText == 1) {
          console.log(1);
        }
      }
    };
  },
  downloadAirplaneData: function downloadAirplaneData() {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://www.zhangmingzhe.cn/amazing_airport/amazing_airport.php?module=3", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText != 0) {
          console.log(1);
          var res = eval(xhr.responseText);
          var airplanelist = [];

          for (var i in res) {
            airplanelist.push(res[i]);
          }

          userdata.airplanedata = airplanelist;
        }
      }
    };
  },
  uploadAirplaneData: function uploadAirplaneData() {
    var list = [];

    for (var i in userdata.airplanedata) {
      list.push(JSON.stringify(userdata.airplanedata[i]));
    }

    var data = "[" + list.join(',') + "]";
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://www.zhangmingzhe.cn/amazing_airport/amazing_airport.php?module=4", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid + "&userData=" + data);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText == 1) {
          console.log(1);
        }
      }
    };
  },
  backtogame: function backtogame(stars) {
    var maxfuel = stars + 10;
    var maxpassenger = stars * 2 + 20;
    var leavetime = (Date.parse(new Date()) - cc.sys.localStorage.getItem("time")) / 1000;
    var left = JSON.parse(cc.sys.localStorage.getItem("lefts"));

    if (left.leftfuel >= maxfuel) {
      userdata.lefts.leftfuel = left.leftfuel;
    } else {
      var add = Math.floor(leavetime / 60) + left.leftfuel;

      if (add >= maxfuel) {
        userdata.lefts.leftfuel = maxfuel;
      } else {
        userdata.lefts.leftfuel = add;
      }
    }

    if (left.leftpassenger >= maxpassenger) {
      userdata.lefts.leftpassenger = left.leftpassenger;
    } else {
      var add = Math.floor(leavetime / 60) + left.leftpassenger;

      if (add >= maxpassenger) {
        userdata.lefts.leftpassenger = maxpassenger;
      } else {
        userdata.lefts.leftpassenger = add;
      }
    }

    cc.sys.localStorage.setItem("lefts", JSON.stringify(userdata.lefts));
  },
  inits: function inits() {
    var stand = userdata.allfile.buildings.stand;
    var standinit = {
      "state": false
    };
    var state = [];

    for (var i = 0; i < stand; i++) {
      state.push(standinit);
    }

    userdata.standstate = state;

    for (var o in userdata.airplanedata) {
      if (userdata.airplanedata[o].isflying == 'false') {
        for (var i = 0; i < stand; i++) {
          if (userdata.standstate[i] == false) {
            userdata.standstate[i] == true;
          } else {
            continue;
          }
        }
      }
    }
  },
  showmap: function showmap() {
    this.runway.getChildByName("up").getChildByName(userdata.allfile.buildings.uprunway.toString()).active = true;
    this.runway.getChildByName("down").getChildByName(userdata.allfile.buildings.downrunway.toString()).active = true;

    if (userdata.allfile.buildings.uprunway >= 9 && userdata.allfile.buildings.downrunway >= 9) {
      this.road.getChildByName("9-9").active = true;
    } else if (userdata.allfile.buildings.uprunway >= 6 && userdata.allfile.buildings.downrunway >= 6) {
      this.road.getChildByName("6-6").active = true;
    } else if (userdata.allfile.buildings.uprunway >= 3 && userdata.allfile.buildings.downrunway >= 3) {
      this.road.getChildByName("3-3").active = true;
    } else {
      this.road.getChildByName("1-1").active = true;
    }

    this.username.string = userdata.allfile.name;
    this.stars.string = userdata.allfile.stars;
    this.coins.string = userdata.allfile.money;
    this.maxfuel = userdata.allfile.stars + 10;
    this.maxpassenger = userdata.allfile.stars * 2 + 20;
    this.fuel.progress = userdata.lefts.leftfuel / this.maxfuel;
    this.fuelnum.string = userdata.lefts.leftfuel.toString() + "/" + this.maxfuel.toString();
    this.passenger.progress = userdata.lefts.leftpassenger / this.maxpassenger;
    this.passengernum.string = userdata.lefts.leftpassenger.toString() + "/" + this.maxpassenger.toString();

    if (userdata.lefts.leftfuel < this.maxfuel && this.allclock.fuelclock.runstate == false) {
      this.allclock.fuelclock.runstate = true;
      this.fuelclock.active = true;
    }

    if (userdata.lefts.leftpassenger < this.maxpassenger && this.allclock.passengerclock.runstate == false) {
      this.allclock.passengerclock.runstate = true;
      this.passengerclock.active = true;
    }
  },
  startclock: function startclock() {
    this.callback = function () {
      cc.sys.localStorage.setItem("time", Date.parse(new Date()));
      this.uploadAirplaneData();

      if (this.allclock.fuelclock.runstate == true) {
        this.allclock.fuelclock.timenumber += 1;

        if (this.allclock.fuelclock.timenumber == 60) {
          this.allclock.fuelclock.timenumber = 0;
          userdata.lefts.leftfuel += 1;
        }

        if (this.allclock.fuelclock.timenumber < 10) {
          this.fuelclocknumber.string = "0" + this.allclock.fuelclock.timenumber.toString();
        } else {
          this.fuelclocknumber.string = this.allclock.fuelclock.timenumber.toString();
        }

        if (userdata.lefts.leftfuel >= this.maxfuel) {
          this.allclock.fuelclock.runstate = false;
          this.allclock.fuelclock.timenumber = 0;
          this.fuelclock.active = false;
        }
      }

      if (this.allclock.passengerclock.runstate == true) {
        this.allclock.passengerclock.timenumber += 1;

        if (this.allclock.passengerclock.timenumber == 60) {
          this.allclock.passengerclock.timenumber = 0;
          userdata.lefts.leftpassenger += 1;
        }

        if (this.allclock.passengerclock.timenumber < 10) {
          this.passengerclocknumber.string = "0" + this.allclock.passengerclock.timenumber.toString();
        } else {
          this.passengerclocknumber.string = this.allclock.passengerclock.timenumber.toString();
        }

        if (userdata.lefts.leftpassenger >= this.maxpassenger) {
          this.allclock.passengerclock.runstate = false;
          this.allclock.passengerclock.timenumber = 0;
          this.passengerclock.active = false;
        }
      }

      if (this.time == 60) {
        this.uploadUserData();
        cc.sys.localStorage.setItem("lefts", JSON.stringify(userdata.lefts));
        cc.sys.localStorage.setItem("stars", userdata.allfile.stars);
        this.time = 0;
      } else {
        this.time += 1;
      }

      for (var o in userdata.airplanedata) {
        if (userdata.airplanedata[o].endtime <= Date.parse(new Date()) / 1000) {
          this.playloadaction(o);
        }
      }
    };

    this.schedule(function () {
      this.callback();
    }, 1);
  },
  playloadaction: function playloadaction(o) {
    //here I have not write the animation,if done, can let follow codes to be a button
    userdata.airplanedata[o].destination = 'null';
    userdata.airplanedata[o].endtime = 0;
    userdata.airplanedata[o].isflying = 'false';
    userdata.allfile.money += userdata.airplanedata[o].reward;
    userdata.airplanedata[o].reward = 0;
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvcnVud2F5X3NjZW5lLmpzIl0sIm5hbWVzIjpbInVzZXJkYXRhIiwicmVxdWlyZSIsImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwidXNlcmlkIiwiSW50ZWdlciIsInJ1bndheSIsInR5cGUiLCJOb2RlIiwicm9hZCIsInN0YW5kIiwiYWlycGxhbmVPblN0YW5kIiwidXNlcm5hbWUiLCJMYWJlbCIsInN0YXJzIiwiZnVlbCIsIlByb2dyZXNzQmFyIiwiZnVlbG51bSIsImZ1ZWxjbG9jayIsImZ1ZWxjbG9ja251bWJlciIsInBhc3NlbmdlciIsInBhc3Nlbmdlcm51bSIsInBhc3NlbmdlcmNsb2NrIiwicGFzc2VuZ2VyY2xvY2tudW1iZXIiLCJjb2lucyIsIm1heGZ1ZWwiLCJtYXhwYXNzZW5nZXIiLCJhbGxjbG9jayIsIk9iamVjdCIsInRpbWUiLCJvbkxvYWQiLCJub2RlIiwib3BhY2l0eSIsInN5cyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJydW5zdGF0ZSIsInRpbWVudW1iZXIiLCJsZWZ0cyIsImxlZnRmdWVsIiwibGVmdHBhc3NlbmdlciIsInJ1bndheXN0YXRlIiwibmV3dXNlciIsImJhY2t0b2dhbWUiLCJzdGFydCIsInN0YXJ0Y2xvY2siLCJydW5BY3Rpb24iLCJmYWRlSW4iLCJ1cGRhdGUiLCJkdCIsInNob3dtYXAiLCJkaXJlY3RvciIsImxvYWRTY2VuZSIsInNlcXVlbmNlIiwiY2FsbEZ1bmMiLCJkb3dubG9hZEFpcnBsYW5lRGF0YSIsImRvd25sb2FkVXNlckRhdGEiLCJpbml0cyIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbnNlVGV4dCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJhbGxmaWxlIiwidXBsb2FkVXNlckRhdGEiLCJzdHJpbmdpZnkiLCJjb25zb2xlIiwibG9nIiwicmVzIiwiZXZhbCIsImFpcnBsYW5lbGlzdCIsImkiLCJwdXNoIiwiYWlycGxhbmVkYXRhIiwidXBsb2FkQWlycGxhbmVEYXRhIiwibGlzdCIsImpvaW4iLCJsZWF2ZXRpbWUiLCJEYXRlIiwibGVmdCIsImFkZCIsIk1hdGgiLCJmbG9vciIsInNldEl0ZW0iLCJidWlsZGluZ3MiLCJzdGFuZGluaXQiLCJzdGF0ZSIsInN0YW5kc3RhdGUiLCJvIiwiaXNmbHlpbmciLCJnZXRDaGlsZEJ5TmFtZSIsInVwcnVud2F5IiwidG9TdHJpbmciLCJhY3RpdmUiLCJkb3ducnVud2F5Iiwic3RyaW5nIiwibmFtZSIsIm1vbmV5IiwicHJvZ3Jlc3MiLCJjYWxsYmFjayIsImVuZHRpbWUiLCJwbGF5bG9hZGFjdGlvbiIsInNjaGVkdWxlIiwiZGVzdGluYXRpb24iLCJyZXdhcmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0EsSUFBSUEsUUFBUSxHQUFHQyxPQUFPLENBQUMsVUFBRCxDQUF0Qjs7QUFFQUMsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLE1BQU0sRUFBQ0osRUFBRSxDQUFDSyxPQURGO0FBRVJDLElBQUFBLE1BQU0sRUFBQztBQUNIQyxNQUFBQSxJQUFJLEVBQUNQLEVBQUUsQ0FBQ1EsSUFETDtBQUVILGlCQUFRO0FBRkwsS0FGQztBQU1SQyxJQUFBQSxJQUFJLEVBQUM7QUFDREYsTUFBQUEsSUFBSSxFQUFDUCxFQUFFLENBQUNRLElBRFA7QUFFRCxpQkFBUTtBQUZQLEtBTkc7QUFVUkUsSUFBQUEsS0FBSyxFQUFDO0FBQ0ZILE1BQUFBLElBQUksRUFBQ1AsRUFBRSxDQUFDUSxJQUROO0FBRUYsaUJBQVE7QUFGTixLQVZFO0FBY1JHLElBQUFBLGVBQWUsRUFBQztBQUNaSixNQUFBQSxJQUFJLEVBQUNQLEVBQUUsQ0FBQ1EsSUFESTtBQUVaLGlCQUFR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QUEsY0FBYyxFQUFDLHdCQUFTYixDQUFULEVBQVc7QUFBQztBQUN2QmpHLElBQUFBLFFBQVEsQ0FBQ2tGLFlBQVQsQ0FBc0JlLENBQXRCLEVBQXlCZSxXQUF6QixHQUF1QyxNQUF2QztBQUNBaEgsSUFBQUEsUUFBUSxDQUFDa0YsWUFBVCxDQUFzQmUsQ0FBdEIsRUFBeUJZLE9BQXpCLEdBQW1DLENBQW5DO0FBQ0E3RyxJQUFBQSxRQUFRLENBQUNrRixZQUFULENBQXNCZSxDQUF0QixFQUF5QkMsUUFBekIsR0FBb0MsT0FBcEM7QUFDQWxHLElBQUFBLFFBQVEsQ0FBQ3dFLE9BQVQsQ0FBaUJrQyxLQUFqQixJQUEwQjFHLFFBQVEsQ0FBQ2tGLFlBQVQsQ0FBc0JlLENBQXRCLEVBQXlCZ0IsTUFBbkQ7QUFDQWpILElBQUFBLFFBQVEsQ0FBQ2tGLFlBQVQsQ0FBc0JlLENBQXRCLEVBQXlCZ0IsTUFBekIsR0FBa0MsQ0FBbEM7QUFDSDtBQXpVSSxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciB1c2VyZGF0YSA9IHJlcXVpcmUoJ3VzZXJkYXRhJyk7XG5cbmNjLkNsYXNzKHtcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXG5cbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIHVzZXJpZDpjYy5JbnRlZ2VyLFxuICAgICAgICBydW53YXk6e1xuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHJvYWQ6e1xuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHN0YW5kOntcbiAgICAgICAgICAgIHR5cGU6Y2MuTm9kZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBhaXJwbGFuZU9uU3RhbmQ6e1xuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHVzZXJuYW1lOntcbiAgICAgICAgICAgIHR5cGU6Y2MuTGFiZWwsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnM6e1xuICAgICAgICAgICAgdHlwZTpjYy5MYWJlbCxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBmdWVsOntcbiAgICAgICAgICAgIHR5cGU6Y2MuUHJvZ3Jlc3NCYXIsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgZnVlbG51bTp7XG4gICAgICAgICAgICB0eXBlOmNjLkxhYmVsLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGZ1ZWxjbG9jazp7XG4gICAgICAgICAgICB0eXBlOmNjLk5vZGUsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgZnVlbGNsb2NrbnVtYmVyOntcbiAgICAgICAgICAgIHR5cGU6Y2MuTGFiZWwsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgcGFzc2VuZ2VyOntcbiAgICAgICAgICAgIHR5cGU6Y2MuUHJvZ3Jlc3NCYXIsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgcGFzc2VuZ2VybnVtOntcbiAgICAgICAgICAgIHR5cGU6Y2MuTGFiZWwsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgcGFzc2VuZ2VyY2xvY2s6e1xuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHBhc3NlbmdlcmNsb2NrbnVtYmVyOntcbiAgICAgICAgICAgIHR5cGU6Y2MuTGFiZWwsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgY29pbnM6e1xuICAgICAgICAgICAgdHlwZTpjYy5MYWJlbCxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBtYXhmdWVsOmNjLkludGVnZXIsXG4gICAgICAgIG1heHBhc3NlbmdlcjpjYy5JbnRlZ2VyLFxuICAgICAgICBhbGxjbG9jazpPYmplY3QsXG4gICAgICAgIHRpbWU6Y2MuSW50ZWdlcixcbiAgICB9LFxuXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICB0aGlzLm5vZGUub3BhY2l0eSA9IDA7XG4gICAgICAgIHRoaXMudXNlcmlkID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaWRcIik7XG4gICAgICAgIHRoaXMuYWxsY2xvY2sgPSB7XG4gICAgICAgICAgICBmdWVsY2xvY2sgOiB7XG4gICAgICAgICAgICAgICAgcnVuc3RhdGU6ZmFsc2UsXG4gICAgICAgICAgICAgICAgdGltZW51bWJlcjowXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFzc2VuZ2VyY2xvY2sgOiB7XG4gICAgICAgICAgICAgICAgcnVuc3RhdGU6ZmFsc2UsXG4gICAgICAgICAgICAgICAgdGltZW51bWJlcjowXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHVzZXJkYXRhLmxlZnRzID0ge1xuICAgICAgICAgICAgbGVmdGZ1ZWw6MCxcbiAgICAgICAgICAgIGxlZnRwYXNzZW5nZXI6MFxuICAgICAgICB9XG4gICAgICAgIHVzZXJkYXRhLnJ1bndheXN0YXRlID0gW2ZhbHNlLGZhbHNlXTtcbiAgICAgICAgdGhpcy5uZXd1c2VyKCk7XG4gICAgICAgIHRoaXMuYmFja3RvZ2FtZShjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzdGFyc1wiKSk7XG4gICAgfSxcblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5zdGFydGNsb2NrKCk7XG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2MuZmFkZUluKDEuMCkpO1xuICAgIH0sXG5cbiAgICB1cGRhdGUgKGR0KSB7XG4gICAgICAgIHRoaXMuc2hvd21hcCgpO1xuICAgIH0sXG5cbiAgICBuZXd1c2VyOmZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKHRoaXMudXNlcmlkPT1udWxsKXtcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcImhvbWVwYWdlX3NjZW5lXCIpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oY2Muc2VxdWVuY2UoY2MuY2FsbEZ1bmModGhpcy5kb3dubG9hZEFpcnBsYW5lRGF0YSx0aGlzKSxjYy5jYWxsRnVuYyh0aGlzLmRvd25sb2FkVXNlckRhdGEsdGhpcyksY2MuY2FsbEZ1bmModGhpcy5pbml0cyx0aGlzKSkpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRvd25sb2FkVXNlckRhdGE6ZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJodHRwczovL3d3dy56aGFuZ21pbmd6aGUuY24vYW1hemluZ19haXJwb3J0L2FtYXppbmdfYWlycG9ydC5waHA/bW9kdWxlPTFcIiwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7XG4gICAgICAgIHhoci5zZW5kKFwiaWQ9XCIgKyB0aGlzLnVzZXJpZCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDQwMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVGV4dCAhPSAwKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YS5hbGxmaWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBsb2FkVXNlckRhdGE6ZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJodHRwczovL3d3dy56aGFuZ21pbmd6aGUuY24vYW1hemluZ19haXJwb3J0L2FtYXppbmdfYWlycG9ydC5waHA/bW9kdWxlPTJcIiwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7XG4gICAgICAgIHhoci5zZW5kKFwiaWQ9XCIgKyB0aGlzLnVzZXJpZCArIFwiJnVzZXJEYXRhPVwiICsgSlNPTi5zdHJpbmdpZnkodXNlcmRhdGEuYWxsZmlsZSkpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IDQgJiYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCA0MDApKSB7XG4gICAgICAgICAgICAgICAgaWYoeGhyLnJlc3BvbnNlVGV4dCA9PSAxKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGRvd25sb2FkQWlycGxhbmVEYXRhOmZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIFwiaHR0cHM6Ly93d3cuemhhbmdtaW5nemhlLmNuL2FtYXppbmdfYWlycG9ydC9hbWF6aW5nX2FpcnBvcnQucGhwP21vZHVsZT0zXCIsIHRydWUpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpO1xuICAgICAgICB4aHIuc2VuZChcImlkPVwiICsgdGhpcy51c2VyaWQpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IDQgJiYgKHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCA0MDApKSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVRleHQgIT0gMCl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gZXZhbCh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFpcnBsYW5lbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgaW4gcmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFpcnBsYW5lbGlzdC5wdXNoKHJlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGEuYWlycGxhbmVkYXRhID0gYWlycGxhbmVsaXN0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB1cGxvYWRBaXJwbGFuZURhdGE6ZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpIGluIHVzZXJkYXRhLmFpcnBsYW5lZGF0YSl7XG4gICAgICAgICAgICBsaXN0LnB1c2goSlNPTi5zdHJpbmdpZnkodXNlcmRhdGEuYWlycGxhbmVkYXRhW2ldKSlcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IFwiW1wiICsgbGlzdC5qb2luKCcsJykgKyBcIl1cIjtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJodHRwczovL3d3dy56aGFuZ21pbmd6aGUuY24vYW1hemluZ19haXJwb3J0L2FtYXppbmdfYWlycG9ydC5waHA/bW9kdWxlPTRcIiwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7XG4gICAgICAgIHhoci5zZW5kKFwiaWQ9XCIgKyB0aGlzLnVzZXJpZCArIFwiJnVzZXJEYXRhPVwiICsgZGF0YSk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDQwMCkpIHtcbiAgICAgICAgICAgICAgICBpZih4aHIucmVzcG9uc2VUZXh0ID09IDEpe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYmFja3RvZ2FtZTpmdW5jdGlvbihzdGFycyl7XG4gICAgICAgIHZhciBtYXhmdWVsID0gc3RhcnMgKyAxMDtcbiAgICAgICAgdmFyIG1heHBhc3NlbmdlciA9IHN0YXJzICogMiArIDIwO1xuICAgICAgICB2YXIgbGVhdmV0aW1lID0gKERhdGUucGFyc2UobmV3IERhdGUoKSkgLSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0aW1lXCIpKS8xMDAwO1xuICAgICAgICB2YXIgbGVmdCA9IEpTT04ucGFyc2UoY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGVmdHNcIikpO1xuICAgICAgICBpZihsZWZ0LmxlZnRmdWVsID49IG1heGZ1ZWwpe1xuICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdGZ1ZWwgPSBsZWZ0LmxlZnRmdWVsO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHZhciBhZGQgPSBNYXRoLmZsb29yKGxlYXZldGltZS82MCkgKyBsZWZ0LmxlZnRmdWVsO1xuICAgICAgICAgICAgaWYoYWRkID49IG1heGZ1ZWwpe1xuICAgICAgICAgICAgICAgIHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsID0gbWF4ZnVlbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsID0gYWRkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGxlZnQubGVmdHBhc3NlbmdlciA+PSBtYXhwYXNzZW5nZXIpe1xuICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdHBhc3NlbmdlciA9IGxlZnQubGVmdHBhc3NlbmdlcjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB2YXIgYWRkID0gTWF0aC5mbG9vcihsZWF2ZXRpbWUvNjApICsgbGVmdC5sZWZ0cGFzc2VuZ2VyO1xuICAgICAgICAgICAgaWYoYWRkID49IG1heHBhc3Nlbmdlcil7XG4gICAgICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdHBhc3NlbmdlciA9IG1heHBhc3NlbmdlcjtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXIgPSBhZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibGVmdHNcIixKU09OLnN0cmluZ2lmeSh1c2VyZGF0YS5sZWZ0cykpO1xuICAgIH0sXG5cbiAgICBpbml0czpmdW5jdGlvbigpe1xuICAgICAgICB2YXIgc3RhbmQgPSB1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy5zdGFuZDtcbiAgICAgICAgdmFyIHN0YW5kaW5pdCA9IHtcInN0YXRlXCI6ZmFsc2V9O1xuICAgICAgICB2YXIgc3RhdGUgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgc3RhbmQ7IGkrKyl7XG4gICAgICAgICAgICBzdGF0ZS5wdXNoKHN0YW5kaW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlcmRhdGEuc3RhbmRzdGF0ZSA9IHN0YXRlO1xuICAgICAgICBmb3IodmFyIG8gaW4gdXNlcmRhdGEuYWlycGxhbmVkYXRhKXtcbiAgICAgICAgICAgIGlmKHVzZXJkYXRhLmFpcnBsYW5lZGF0YVtvXS5pc2ZseWluZz09J2ZhbHNlJyl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHN0YW5kOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBpZih1c2VyZGF0YS5zdGFuZHN0YXRlW2ldPT1mYWxzZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YS5zdGFuZHN0YXRlW2ldID09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd21hcDpmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLnJ1bndheS5nZXRDaGlsZEJ5TmFtZShcInVwXCIpLmdldENoaWxkQnlOYW1lKHVzZXJkYXRhLmFsbGZpbGUuYnVpbGRpbmdzLnVwcnVud2F5LnRvU3RyaW5nKCkpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMucnVud2F5LmdldENoaWxkQnlOYW1lKFwiZG93blwiKS5nZXRDaGlsZEJ5TmFtZSh1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy5kb3ducnVud2F5LnRvU3RyaW5nKCkpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGlmKHVzZXJkYXRhLmFsbGZpbGUuYnVpbGRpbmdzLnVwcnVud2F5Pj05JiZ1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy5kb3ducnVud2F5Pj05KXtcbiAgICAgICAgICAgIHRoaXMucm9hZC5nZXRDaGlsZEJ5TmFtZShcIjktOVwiKS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9ZWxzZSBpZih1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy51cHJ1bndheT49NiYmdXNlcmRhdGEuYWxsZmlsZS5idWlsZGluZ3MuZG93bnJ1bndheT49Nil7XG4gICAgICAgICAgICB0aGlzLnJvYWQuZ2V0Q2hpbGRCeU5hbWUoXCI2LTZcIikuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfWVsc2UgaWYodXNlcmRhdGEuYWxsZmlsZS5idWlsZGluZ3MudXBydW53YXk+PTMmJnVzZXJkYXRhLmFsbGZpbGUuYnVpbGRpbmdzLmRvd25ydW53YXk+PTMpe1xuICAgICAgICAgICAgdGhpcy5yb2FkLmdldENoaWxkQnlOYW1lKFwiMy0zXCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5yb2FkLmdldENoaWxkQnlOYW1lKFwiMS0xXCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51c2VybmFtZS5zdHJpbmcgPSB1c2VyZGF0YS5hbGxmaWxlLm5hbWU7XG4gICAgICAgIHRoaXMuc3RhcnMuc3RyaW5nID0gdXNlcmRhdGEuYWxsZmlsZS5zdGFycztcbiAgICAgICAgdGhpcy5jb2lucy5zdHJpbmcgPSB1c2VyZGF0YS5hbGxmaWxlLm1vbmV5O1xuICAgICAgICB0aGlzLm1heGZ1ZWwgPSB1c2VyZGF0YS5hbGxmaWxlLnN0YXJzICsgMTA7XG4gICAgICAgIHRoaXMubWF4cGFzc2VuZ2VyID0gdXNlcmRhdGEuYWxsZmlsZS5zdGFycyAqIDIgKyAyMDtcbiAgICAgICAgdGhpcy5mdWVsLnByb2dyZXNzID0gdXNlcmRhdGEubGVmdHMubGVmdGZ1ZWwgLyB0aGlzLm1heGZ1ZWw7XG4gICAgICAgIHRoaXMuZnVlbG51bS5zdHJpbmcgPSB1c2VyZGF0YS5sZWZ0cy5sZWZ0ZnVlbC50b1N0cmluZygpICsgXCIvXCIgKyB0aGlzLm1heGZ1ZWwudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5wYXNzZW5nZXIucHJvZ3Jlc3MgPSB1c2VyZGF0YS5sZWZ0cy5sZWZ0cGFzc2VuZ2VyIC8gdGhpcy5tYXhwYXNzZW5nZXI7XG4gICAgICAgIHRoaXMucGFzc2VuZ2VybnVtLnN0cmluZyA9IHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXIudG9TdHJpbmcoKSArIFwiL1wiICsgdGhpcy5tYXhwYXNzZW5nZXIudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsIDwgdGhpcy5tYXhmdWVsICYmIHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnJ1bnN0YXRlID09IGZhbHNlKXtcbiAgICAgICAgICAgIHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnJ1bnN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZnVlbGNsb2NrLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXIgPCB0aGlzLm1heHBhc3NlbmdlciAmJiB0aGlzLmFsbGNsb2NrLnBhc3NlbmdlcmNsb2NrLnJ1bnN0YXRlID09IGZhbHNlKXtcbiAgICAgICAgICAgIHRoaXMuYWxsY2xvY2sucGFzc2VuZ2VyY2xvY2sucnVuc3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZW5nZXJjbG9jay5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHN0YXJ0Y2xvY2s6ZnVuY3Rpb24oKXtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRpbWVcIixEYXRlLnBhcnNlKG5ldyBEYXRlKCkpKTtcblxuICAgICAgICAgICAgdGhpcy51cGxvYWRBaXJwbGFuZURhdGEoKTtcblxuICAgICAgICAgICAgaWYodGhpcy5hbGxjbG9jay5mdWVsY2xvY2sucnVuc3RhdGU9PXRydWUpe1xuICAgICAgICAgICAgICAgIHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnRpbWVudW1iZXIgKz0gMTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmFsbGNsb2NrLmZ1ZWxjbG9jay50aW1lbnVtYmVyID09IDYwKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5mdWVsY2xvY2sudGltZW51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsICs9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnRpbWVudW1iZXI8MTApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1ZWxjbG9ja251bWJlci5zdHJpbmcgPSBcIjBcIiArIHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnRpbWVudW1iZXIudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mdWVsY2xvY2tudW1iZXIuc3RyaW5nID0gdGhpcy5hbGxjbG9jay5mdWVsY2xvY2sudGltZW51bWJlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih1c2VyZGF0YS5sZWZ0cy5sZWZ0ZnVlbD49dGhpcy5tYXhmdWVsKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5mdWVsY2xvY2sucnVuc3RhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5mdWVsY2xvY2sudGltZW51bWJlciA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnVlbGNsb2NrLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay5ydW5zdGF0ZT09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyICs9IDE7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyID09IDYwKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdHBhc3NlbmdlciArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih0aGlzLmFsbGNsb2NrLnBhc3NlbmdlcmNsb2NrLnRpbWVudW1iZXI8MTApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NlbmdlcmNsb2NrbnVtYmVyLnN0cmluZyA9IFwiMFwiICsgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc2VuZ2VyY2xvY2tudW1iZXIuc3RyaW5nID0gdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXI+PXRoaXMubWF4cGFzc2VuZ2VyKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay5ydW5zdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbGNsb2NrLnBhc3NlbmdlcmNsb2NrLnRpbWVudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NlbmdlcmNsb2NrLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy50aW1lID09IDYwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZFVzZXJEYXRhKCk7XG4gICAgICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibGVmdHNcIixKU09OLnN0cmluZ2lmeSh1c2VyZGF0YS5sZWZ0cykpO1xuICAgICAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInN0YXJzXCIsdXNlcmRhdGEuYWxsZmlsZS5zdGFycyk7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lID0gMDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMudGltZSArPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IodmFyIG8gaW4gdXNlcmRhdGEuYWlycGxhbmVkYXRhKXtcbiAgICAgICAgICAgICAgICBpZih1c2VyZGF0YS5haXJwbGFuZWRhdGFbb10uZW5kdGltZTw9KERhdGUucGFyc2UobmV3IERhdGUoKSkvMTAwMCkpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlsb2FkYWN0aW9uKG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICAgIH0sMSlcbiAgICB9LFxuXG4gICAgcGxheWxvYWRhY3Rpb246ZnVuY3Rpb24obyl7Ly9oZXJlIEkgaGF2ZSBub3Qgd3JpdGUgdGhlIGFuaW1hdGlvbixpZiBkb25lLCBjYW4gbGV0IGZvbGxvdyBjb2RlcyB0byBiZSBhIGJ1dHRvblxuICAgICAgICB1c2VyZGF0YS5haXJwbGFuZWRhdGFbb10uZGVzdGluYXRpb24gPSAnbnVsbCc7XG4gICAgICAgIHVzZXJkYXRhLmFpcnBsYW5lZGF0YVtvXS5lbmR0aW1lID0gMDtcbiAgICAgICAgdXNlcmRhdGEuYWlycGxhbmVkYXRhW29dLmlzZmx5aW5nID0gJ2ZhbHNlJztcbiAgICAgICAgdXNlcmRhdGEuYWxsZmlsZS5tb25leSArPSB1c2VyZGF0YS5haXJwbGFuZWRhdGFbb10ucmV3YXJkO1xuICAgICAgICB1c2VyZGF0YS5haXJwbGFuZWRhdGFbb10ucmV3YXJkID0gMDtcbiAgICB9XG59KTsiXX0=