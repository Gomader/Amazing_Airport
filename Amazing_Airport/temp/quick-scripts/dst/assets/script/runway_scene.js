
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/script/runway_scene.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '660dfXmAJ1O54O3BLVKKhKx', 'runway_scene');
// script/runway_scene.js

"use strict";

var userdata = require('userdata');

cc.Class({
  "extends": cc.Component,
  properties: {
    userid: cc.Integer,
    runway: {
      type: cc.Node,
      "default": null
    },
    road: {
      type: cc.Node,
      "default": null
    },
    stand: {
      type: cc.Node,
      "default": null
    },
    airplaneOnStand: {
      type: cc.Node,
      "default": null
    },
    username: {
      type: cc.Label,
      "default": null
    },
    stars: {
      type: cc.Label,
      "default": null
    },
    fuel: {
      type: cc.ProgressBar,
      "default": null
    },
    fuelnum: {
      type: cc.Label,
      "default": null
    },
    fuelclock: {
      type: cc.Node,
      "default": null
    },
    fuelclocknumber: {
      type: cc.Label,
      "default": null
    },
    passenger: {
      type: cc.ProgressBar,
      "default": null
    },
    passengernum: {
      type: cc.Label,
      "default": null
    },
    passengerclock: {
      type: cc.Node,
      "default": null
    },
    passengerclocknumber: {
      type: cc.Label,
      "default": null
    },
    coins: {
      type: cc.Label,
      "default": null
    },
    maxfuel: cc.Integer,
    maxpassenger: cc.Integer,
    allclock: Object,
    time: cc.Integer
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.node.opacity = 0;
    this.userid = cc.sys.localStorage.getItem("id");
    this.allclock = {
      fuelclock: {
        runstate: false,
        timenumber: 0
      },
      passengerclock: {
        runstate: false,
        timenumber: 0
      }
    }, userdata.lefts = {
      leftfuel: 0,
      leftpassenger: 0
    };
    this.newuser();
    this.backtogame(cc.sys.localStorage.getItem("stars"));
  },
  start: function start() {
    this.node.runAction(cc.fadeIn(1.0));
    this.startclock();
  },
  update: function update(dt) {
    this.showmap();
  },
  newuser: function newuser() {
    if (this.userid == null) {
      cc.director.loadScene("homepage_scene");
    } else {
      this.node.runAction(cc.sequence(cc.callFunc(this.downloadAirplaneData, this), cc.callFunc(this.downloadUserData, this), cc.callFunc(this.inits, this)));
    }
  },
  downloadUserData: function downloadUserData() {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://140.143.126.73/amazing_airport/amazing_airport.php?module=1", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText != 0) {
          var data = JSON.parse(xhr.responseText);
          userdata.allfile = data;
        }
      }
    };
  },
  uploadUserData: function uploadUserData() {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://140.143.126.73/amazing_airport/amazing_airport.php?module=2", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid + "&userData=" + JSON.stringify(userdata.allfile));

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText == 1) {
          console.log(1);
        }
      }
    };
  },
  downloadAirplaneData: function downloadAirplaneData() {
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://140.143.126.73/amazing_airport/amazing_airport.php?module=3", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText != 0) {
          console.log(1);
          var res = eval(xhr.responseText);
          var airplanelist = [];

          for (var i in res) {
            airplanelist.push(res[i]);
          }

          userdata.airplanedata = airplanelist;
        }
      }
    };
  },
  uploadAirplaneData: function uploadAirplaneData() {
    var list = [];

    for (var i in userdata.airplanedata) {
      list.push(JSON.stringify(userdata.airplanedata[i]));
    }

    var data = "[" + list.join(',') + "]";
    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://140.143.126.73/amazing_airport/amazing_airport.php?module=4", true);
    xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    xhr.send("id=" + this.userid + "&userData=" + data);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4 && xhr.status >= 200 && xhr.status < 400) {
        if (xhr.responseText == 1) {
          console.log(1);
        }
      }
    };
  },
  backtogame: function backtogame(stars) {
    var maxfuel = stars + 10;
    var maxpassenger = stars * 2 + 20;
    var leavetime = (Date.parse(new Date()) - cc.sys.localStorage.getItem("time")) / 1000;
    var left = JSON.parse(cc.sys.localStorage.getItem("lefts"));

    if (left.leftfuel >= maxfuel) {
      userdata.lefts.leftfuel = left.leftfuel;
    } else {
      var add = Math.floor(leavetime / 60) + left.leftfuel;

      if (add >= maxfuel) {
        userdata.lefts.leftfuel = maxfuel;
      } else {
        userdata.lefts.leftfuel = add;
      }
    }

    if (left.leftpassenger >= maxpassenger) {
      userdata.lefts.leftpassenger = left.leftpassenger;
    } else {
      var add = Math.floor(leavetime / 60) + left.leftpassenger;

      if (add >= maxpassenger) {
        userdata.lefts.leftpassenger = maxpassenger;
      } else {
        userdata.lefts.leftpassenger = add;
      }
    }

    cc.sys.localStorage.setItem("lefts", JSON.stringify(userdata.lefts));
  },
  inits: function inits() {
    var stand = userdata.allfile.buildings.stand;
    var standinit = {
      "state": false
    };
    var state = [];

    for (var i = 0; i < stand; i++) {
      state.push(standinit);
    }

    userdata.standstate = state;

    for (var o in userdata.airplanedata) {
      if (userdata.airplanedata[o].isflying == 'false') {
        for (var i = 0; i < stand; i++) {
          if (userdata.standstate[i] == false) {
            userdata.standstate[i] == true;
          } else {
            continue;
          }
        }
      }
    }
  },
  showmap: function showmap() {
    this.runway.getChildByName("up").getChildByName(userdata.allfile.buildings.uprunway.toString()).active = true;
    this.runway.getChildByName("down").getChildByName(userdata.allfile.buildings.downrunway.toString()).active = true;

    if (userdata.allfile.buildings.uprunway >= 9 && userdata.allfile.buildings.downrunway >= 9) {
      this.road.getChildByName("9-9").active = true;
    } else if (userdata.allfile.buildings.uprunway >= 6 && userdata.allfile.buildings.downrunway >= 6) {
      this.road.getChildByName("6-6").active = true;
    } else if (userdata.allfile.buildings.uprunway >= 3 && userdata.allfile.buildings.downrunway >= 3) {
      this.road.getChildByName("3-3").active = true;
    } else {
      this.road.getChildByName("1-1").active = true;
    }

    this.username.string = userdata.allfile.name;
    this.stars.string = userdata.allfile.stars;
    this.coins.string = userdata.allfile.money;
    this.maxfuel = userdata.allfile.stars + 10;
    this.maxpassenger = userdata.allfile.stars * 2 + 20;
    this.fuel.progress = userdata.lefts.leftfuel / this.maxfuel;
    this.fuelnum.string = userdata.lefts.leftfuel.toString() + "/" + this.maxfuel.toString();
    this.passenger.progress = userdata.lefts.leftpassenger / this.maxpassenger;
    this.passengernum.string = userdata.lefts.leftpassenger.toString() + "/" + this.maxpassenger.toString();

    if (userdata.lefts.leftfuel < this.maxfuel && this.allclock.fuelclock.runstate == false) {
      this.allclock.fuelclock.runstate = true;
      this.fuelclock.active = true;
    }

    if (userdata.lefts.leftpassenger < this.maxpassenger && this.allclock.passengerclock.runstate == false) {
      this.allclock.passengerclock.runstate = true;
      this.passengerclock.active = true;
    }
  },
  startclock: function startclock() {
    this.callback = function () {
      cc.sys.localStorage.setItem("time", Date.parse(new Date()));

      if (this.allclock.fuelclock.runstate == true) {
        this.allclock.fuelclock.timenumber += 1;

        if (this.allclock.fuelclock.timenumber == 60) {
          this.allclock.fuelclock.timenumber = 0;
          userdata.lefts.leftfuel += 1;
        }

        if (this.allclock.fuelclock.timenumber < 10) {
          this.fuelclocknumber.string = "0" + this.allclock.fuelclock.timenumber.toString();
        } else {
          this.fuelclocknumber.string = this.allclock.fuelclock.timenumber.toString();
        }

        if (userdata.lefts.leftfuel >= this.maxfuel) {
          this.allclock.fuelclock.runstate = false;
          this.allclock.fuelclock.timenumber = 0;
          this.fuelclock.active = false;
        }
      }

      if (this.allclock.passengerclock.runstate == true) {
        this.allclock.passengerclock.timenumber += 1;

        if (this.allclock.passengerclock.timenumber == 60) {
          this.allclock.passengerclock.timenumber = 0;
          userdata.lefts.leftpassenger += 1;
        }

        if (this.allclock.passengerclock.timenumber < 10) {
          this.passengerclocknumber.string = "0" + this.allclock.passengerclock.timenumber.toString();
        } else {
          this.passengerclocknumber.string = this.allclock.passengerclock.timenumber.toString();
        }

        if (userdata.lefts.leftpassenger >= this.maxpassenger) {
          this.allclock.passengerclock.runstate = false;
          this.allclock.passengerclock.timenumber = 0;
          this.passengerclock.active = false;
        }
      }

      if (this.time == 60) {
        this.uploadUserData();
        cc.sys.localStorage.setItem("lefts", JSON.stringify(userdata.lefts));
        cc.sys.localStorage.setItem("stars", userdata.allfile.stars);
        this.time = 0;
      } else {
        this.time += 1;
      }
    };

    this.schedule(function () {
      this.callback();
    }, 1);
  }
});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHQvcnVud2F5X3NjZW5lLmpzIl0sIm5hbWVzIjpbInVzZXJkYXRhIiwicmVxdWlyZSIsImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwidXNlcmlkIiwiSW50ZWdlciIsInJ1bndheSIsInR5cGUiLCJOb2RlIiwicm9hZCIsInN0YW5kIiwiYWlycGxhbmVPblN0YW5kIiwidXNlcm5hbWUiLCJMYWJlbCIsInN0YXJzIiwiZnVlbCIsIlByb2dyZXNzQmFyIiwiZnVlbG51bSIsImZ1ZWxjbG9jayIsImZ1ZWxjbG9ja251bWJlciIsInBhc3NlbmdlciIsInBhc3Nlbmdlcm51bSIsInBhc3NlbmdlcmNsb2NrIiwicGFzc2VuZ2VyY2xvY2tudW1iZXIiLCJjb2lucyIsIm1heGZ1ZWwiLCJtYXhwYXNzZW5nZXIiLCJhbGxjbG9jayIsIk9iamVjdCIsInRpbWUiLCJvbkxvYWQiLCJub2RlIiwib3BhY2l0eSIsInN5cyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJydW5zdGF0ZSIsInRpbWVudW1iZXIiLCJsZWZ0cyIsImxlZnRmdWVsIiwibGVmdHBhc3NlbmdlciIsIm5ld3VzZXIiLCJiYWNrdG9nYW1lIiwic3RhcnQiLCJydW5BY3Rpb24iLCJmYWRlSW4iLCJzdGFydGNsb2NrIiwidXBkYXRlIiwiZHQiLCJzaG93bWFwIiwiZGlyZWN0b3IiLCJsb2FkU2NlbmUiLCJzZXF1ZW5jZSIsImNhbGxGdW5jIiwiZG93bmxvYWRBaXJwbGFuZURhdGEiLCJkb3dubG9hZFVzZXJEYXRhIiwiaW5pdHMiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiYWxsZmlsZSIsInVwbG9hZFVzZXJEYXRhIiwic3RyaW5naWZ5IiwiY29uc29sZSIsImxvZyIsInJlcyIsImV2YWwiLCJhaXJwbGFuZWxpc3QiLCJpIiwicHVzaCIsImFpcnBsYW5lZGF0YSIsInVwbG9hZEFpcnBsYW5lRGF0YSIsImxpc3QiLCJqb2luIiwibGVhdmV0aW1lIiwiRGF0ZSIsImxlZnQiLCJhZGQiLCJNYXRoIiwiZmxvb3IiLCJzZXRJdGVtIiwiYnVpbGRpbmdzIiwic3RhbmRpbml0Iiwic3RhdGUiLCJzdGFuZHN0YXRlIiwibyIsImlzZmx5aW5nIiwiZ2V0Q2hpbGRCeU5hbWUiLCJ1cHJ1bndheSIsInRvU3RyaW5nIiwiYWN0aXZlIiwiZG93bnJ1bndheSIsInN0cmluZyIsIm5hbWUiLCJtb25leSIsInByb2dyZXNzIiwiY2FsbGJhY2siLCJzY2hlZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxJQUFJQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXRCOztBQUVBQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsU0FEUDtBQUdMQyxFQUFBQSxVQUFVLEVBQUU7QUFDUkMsSUFBQUEsTUFBTSxFQUFDSixFQUFFLENBQUNLLE9BREY7QUFFUkMsSUFBQUEsTUFBTSxFQUFDO0FBQ0hDLE1BQUFBLElBQUksRUFBQ1AsRUFBRSxDQUFDUSxJQURMO0FBRUgsaUJBQVE7QUFGTCxLQUZDO0FBTVJDLElBQUFBLElBQUksRUFBQztBQUNERixNQUFBQSxJQUFJLEVBQUNQLEVBQUUsQ0FBQ1EsSUFEUDtBQUVELGlCQUFRO0FBRlAsS0FORztBQVVSRSxJQUFBQSxLQUFLLEVBQUM7QUFDRkgsTUFBQUEsSUFBSSxFQUFDUCxFQUFFLENBQUNRLElBRE47QUFFRixpQkFBUTtBQUZOLEtBVkU7QUFjUkcsSUFBQUEsZUFBZSxFQUFDO0FBQ1pKLE1BQUFBLElBQUksRUFBQ1AsRUFBRSxDQUFDUSxJQURJO0FBRVosaUJBQVE7QUFGSSxLQWRSO0FBa0JSSSxJQUFBQSxRQUFRLEVBQUM7QUFDTEwsTUFBQUEsSUFBSSxFQUFDUCxFQUFFLENB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QUFjTCxjQUFkLENBQTZCZSxVQUE3QixHQUEwQyxDQUExQztBQUNBLGVBQUtmLGNBQUwsQ0FBb0I2RSxNQUFwQixHQUE2QixLQUE3QjtBQUNIO0FBQ0o7O0FBQ0QsVUFBRyxLQUFLdEUsSUFBTCxJQUFhLEVBQWhCLEVBQW1CO0FBQ2YsYUFBS3lDLGNBQUw7QUFDQXRFLFFBQUFBLEVBQUUsQ0FBQ2lDLEdBQUgsQ0FBT0MsWUFBUCxDQUFvQnVELE9BQXBCLENBQTRCLE9BQTVCLEVBQW9DdEIsSUFBSSxDQUFDSSxTQUFMLENBQWV6RSxRQUFRLENBQUN3QyxLQUF4QixDQUFwQztBQUNBdEMsUUFBQUEsRUFBRSxDQUFDaUMsR0FBSCxDQUFPQyxZQUFQLENBQW9CdUQsT0FBcEIsQ0FBNEIsT0FBNUIsRUFBb0MzRixRQUFRLENBQUN1RSxPQUFULENBQWlCdkQsS0FBckQ7QUFDQSxhQUFLZSxJQUFMLEdBQVksQ0FBWjtBQUNILE9BTEQsTUFLSztBQUNELGFBQUtBLElBQUwsSUFBYSxDQUFiO0FBQ0g7QUFDSixLQTVDRDs7QUE2Q0EsU0FBSzZFLFFBQUwsQ0FBYyxZQUFVO0FBQ3BCLFdBQUtELFFBQUw7QUFDSCxLQUZELEVBRUUsQ0FGRjtBQUdIO0FBclRJLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxudmFyIHVzZXJkYXRhID0gcmVxdWlyZSgndXNlcmRhdGEnKTtcblxuY2MuQ2xhc3Moe1xuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcblxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgdXNlcmlkOmNjLkludGVnZXIsXG4gICAgICAgIHJ1bndheTp7XG4gICAgICAgICAgICB0eXBlOmNjLk5vZGUsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgcm9hZDp7XG4gICAgICAgICAgICB0eXBlOmNjLk5vZGUsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhbmQ6e1xuICAgICAgICAgICAgdHlwZTpjYy5Ob2RlLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGFpcnBsYW5lT25TdGFuZDp7XG4gICAgICAgICAgICB0eXBlOmNjLk5vZGUsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgdXNlcm5hbWU6e1xuICAgICAgICAgICAgdHlwZTpjYy5MYWJlbCxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBzdGFyczp7XG4gICAgICAgICAgICB0eXBlOmNjLkxhYmVsLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGZ1ZWw6e1xuICAgICAgICAgICAgdHlwZTpjYy5Qcm9ncmVzc0JhcixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBmdWVsbnVtOntcbiAgICAgICAgICAgIHR5cGU6Y2MuTGFiZWwsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgZnVlbGNsb2NrOntcbiAgICAgICAgICAgIHR5cGU6Y2MuTm9kZSxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBmdWVsY2xvY2tudW1iZXI6e1xuICAgICAgICAgICAgdHlwZTpjYy5MYWJlbCxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBwYXNzZW5nZXI6e1xuICAgICAgICAgICAgdHlwZTpjYy5Qcm9ncmVzc0JhcixcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBwYXNzZW5nZXJudW06e1xuICAgICAgICAgICAgdHlwZTpjYy5MYWJlbCxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBwYXNzZW5nZXJjbG9jazp7XG4gICAgICAgICAgICB0eXBlOmNjLk5vZGUsXG4gICAgICAgICAgICBkZWZhdWx0Om51bGxcbiAgICAgICAgfSxcbiAgICAgICAgcGFzc2VuZ2VyY2xvY2tudW1iZXI6e1xuICAgICAgICAgICAgdHlwZTpjYy5MYWJlbCxcbiAgICAgICAgICAgIGRlZmF1bHQ6bnVsbFxuICAgICAgICB9LFxuICAgICAgICBjb2luczp7XG4gICAgICAgICAgICB0eXBlOmNjLkxhYmVsLFxuICAgICAgICAgICAgZGVmYXVsdDpudWxsXG4gICAgICAgIH0sXG4gICAgICAgIG1heGZ1ZWw6Y2MuSW50ZWdlcixcbiAgICAgICAgbWF4cGFzc2VuZ2VyOmNjLkludGVnZXIsXG4gICAgICAgIGFsbGNsb2NrOk9iamVjdCxcbiAgICAgICAgdGltZTpjYy5JbnRlZ2VyLFxuICAgIH0sXG5cbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcblxuICAgIG9uTG9hZCAoKSB7XG4gICAgICAgIHRoaXMubm9kZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgdGhpcy51c2VyaWQgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJpZFwiKTtcbiAgICAgICAgdGhpcy5hbGxjbG9jayA9IHtcbiAgICAgICAgICAgIGZ1ZWxjbG9jayA6IHtcbiAgICAgICAgICAgICAgICBydW5zdGF0ZTpmYWxzZSxcbiAgICAgICAgICAgICAgICB0aW1lbnVtYmVyOjBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXNzZW5nZXJjbG9jayA6IHtcbiAgICAgICAgICAgICAgICBydW5zdGF0ZTpmYWxzZSxcbiAgICAgICAgICAgICAgICB0aW1lbnVtYmVyOjBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdXNlcmRhdGEubGVmdHMgPSB7XG4gICAgICAgICAgICBsZWZ0ZnVlbDowLFxuICAgICAgICAgICAgbGVmdHBhc3NlbmdlcjowXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXd1c2VyKCk7XG4gICAgICAgIHRoaXMuYmFja3RvZ2FtZShjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzdGFyc1wiKSk7XG4gICAgfSxcblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5mYWRlSW4oMS4wKSk7XG4gICAgICAgIHRoaXMuc3RhcnRjbG9jaygpO1xuXG4gICAgfSxcblxuICAgIHVwZGF0ZSAoZHQpIHtcbiAgICAgICAgdGhpcy5zaG93bWFwKCk7XG4gICAgfSxcblxuICAgIG5ld3VzZXI6ZnVuY3Rpb24oKXtcbiAgICAgICAgaWYodGhpcy51c2VyaWQ9PW51bGwpe1xuICAgICAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiaG9tZXBhZ2Vfc2NlbmVcIik7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5ub2RlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5jYWxsRnVuYyh0aGlzLmRvd25sb2FkQWlycGxhbmVEYXRhLHRoaXMpLGNjLmNhbGxGdW5jKHRoaXMuZG93bmxvYWRVc2VyRGF0YSx0aGlzKSxjYy5jYWxsRnVuYyh0aGlzLmluaXRzLHRoaXMpKSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZG93bmxvYWRVc2VyRGF0YTpmdW5jdGlvbigpe1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcImh0dHBzOi8vMTQwLjE0My4xMjYuNzMvYW1hemluZ19haXJwb3J0L2FtYXppbmdfYWlycG9ydC5waHA/bW9kdWxlPTFcIiwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7XG4gICAgICAgIHhoci5zZW5kKFwiaWQ9XCIgKyB0aGlzLnVzZXJpZCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDQwMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVGV4dCAhPSAwKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBKU09OLnBhcnNlKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YS5hbGxmaWxlID0gZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBsb2FkVXNlckRhdGE6ZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgXCJodHRwczovLzE0MC4xNDMuMTI2LjczL2FtYXppbmdfYWlycG9ydC9hbWF6aW5nX2FpcnBvcnQucGhwP21vZHVsZT0yXCIsIHRydWUpO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpO1xuICAgICAgICB4aHIuc2VuZChcImlkPVwiICsgdGhpcy51c2VyaWQgKyBcIiZ1c2VyRGF0YT1cIiArIEpTT04uc3RyaW5naWZ5KHVzZXJkYXRhLmFsbGZpbGUpKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSA0ICYmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgNDAwKSkge1xuICAgICAgICAgICAgICAgIGlmKHhoci5yZXNwb25zZVRleHQgPT0gMSl7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBkb3dubG9hZEFpcnBsYW5lRGF0YTpmdW5jdGlvbigpe1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcImh0dHBzOi8vMTQwLjE0My4xMjYuNzMvYW1hemluZ19haXJwb3J0L2FtYXppbmdfYWlycG9ydC5waHA/bW9kdWxlPTNcIiwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7XG4gICAgICAgIHhoci5zZW5kKFwiaWQ9XCIgKyB0aGlzLnVzZXJpZCk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDQwMCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnJlc3BvbnNlVGV4dCAhPSAwKXtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXMgPSBldmFsKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWlycGxhbmVsaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSBpbiByZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWlycGxhbmVsaXN0LnB1c2gocmVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YS5haXJwbGFuZWRhdGEgPSBhaXJwbGFuZWxpc3Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHVwbG9hZEFpcnBsYW5lRGF0YTpmdW5jdGlvbigpe1xuICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICBmb3IodmFyIGkgaW4gdXNlcmRhdGEuYWlycGxhbmVkYXRhKXtcbiAgICAgICAgICAgIGxpc3QucHVzaChKU09OLnN0cmluZ2lmeSh1c2VyZGF0YS5haXJwbGFuZWRhdGFbaV0pKVxuICAgICAgICB9XG4gICAgICAgIHZhciBkYXRhID0gXCJbXCIgKyBsaXN0LmpvaW4oJywnKSArIFwiXVwiO1xuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCBcImh0dHBzOi8vMTQwLjE0My4xMjYuNzMvYW1hemluZ19haXJwb3J0L2FtYXppbmdfYWlycG9ydC5waHA/bW9kdWxlPTRcIiwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIik7XG4gICAgICAgIHhoci5zZW5kKFwiaWQ9XCIgKyB0aGlzLnVzZXJpZCArIFwiJnVzZXJEYXRhPVwiICsgZGF0YSk7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDQwMCkpIHtcbiAgICAgICAgICAgICAgICBpZih4aHIucmVzcG9uc2VUZXh0ID09IDEpe1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgYmFja3RvZ2FtZTpmdW5jdGlvbihzdGFycyl7XG4gICAgICAgIHZhciBtYXhmdWVsID0gc3RhcnMgKyAxMDtcbiAgICAgICAgdmFyIG1heHBhc3NlbmdlciA9IHN0YXJzICogMiArIDIwO1xuICAgICAgICB2YXIgbGVhdmV0aW1lID0gKERhdGUucGFyc2UobmV3IERhdGUoKSkgLSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0aW1lXCIpKS8xMDAwO1xuICAgICAgICB2YXIgbGVmdCA9IEpTT04ucGFyc2UoY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibGVmdHNcIikpO1xuICAgICAgICBpZihsZWZ0LmxlZnRmdWVsID49IG1heGZ1ZWwpe1xuICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdGZ1ZWwgPSBsZWZ0LmxlZnRmdWVsO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHZhciBhZGQgPSBNYXRoLmZsb29yKGxlYXZldGltZS82MCkgKyBsZWZ0LmxlZnRmdWVsO1xuICAgICAgICAgICAgaWYoYWRkID49IG1heGZ1ZWwpe1xuICAgICAgICAgICAgICAgIHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsID0gbWF4ZnVlbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsID0gYWRkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGxlZnQubGVmdHBhc3NlbmdlciA+PSBtYXhwYXNzZW5nZXIpe1xuICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdHBhc3NlbmdlciA9IGxlZnQubGVmdHBhc3NlbmdlcjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB2YXIgYWRkID0gTWF0aC5mbG9vcihsZWF2ZXRpbWUvNjApICsgbGVmdC5sZWZ0cGFzc2VuZ2VyO1xuICAgICAgICAgICAgaWYoYWRkID49IG1heHBhc3Nlbmdlcil7XG4gICAgICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdHBhc3NlbmdlciA9IG1heHBhc3NlbmdlcjtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXIgPSBhZGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibGVmdHNcIixKU09OLnN0cmluZ2lmeSh1c2VyZGF0YS5sZWZ0cykpO1xuICAgIH0sXG5cbiAgICBpbml0czpmdW5jdGlvbigpe1xuICAgICAgICB2YXIgc3RhbmQgPSB1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy5zdGFuZDtcbiAgICAgICAgdmFyIHN0YW5kaW5pdCA9IHtcInN0YXRlXCI6ZmFsc2V9O1xuICAgICAgICB2YXIgc3RhdGUgPSBbXTtcbiAgICAgICAgZm9yKHZhciBpID0gMDtpIDwgc3RhbmQ7IGkrKyl7XG4gICAgICAgICAgICBzdGF0ZS5wdXNoKHN0YW5kaW5pdCk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlcmRhdGEuc3RhbmRzdGF0ZSA9IHN0YXRlO1xuICAgICAgICBmb3IodmFyIG8gaW4gdXNlcmRhdGEuYWlycGxhbmVkYXRhKXtcbiAgICAgICAgICAgIGlmKHVzZXJkYXRhLmFpcnBsYW5lZGF0YVtvXS5pc2ZseWluZz09J2ZhbHNlJyl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHN0YW5kOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBpZih1c2VyZGF0YS5zdGFuZHN0YXRlW2ldPT1mYWxzZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyZGF0YS5zdGFuZHN0YXRlW2ldID09IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2hvd21hcDpmdW5jdGlvbigpe1xuICAgICAgICB0aGlzLnJ1bndheS5nZXRDaGlsZEJ5TmFtZShcInVwXCIpLmdldENoaWxkQnlOYW1lKHVzZXJkYXRhLmFsbGZpbGUuYnVpbGRpbmdzLnVwcnVud2F5LnRvU3RyaW5nKCkpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMucnVud2F5LmdldENoaWxkQnlOYW1lKFwiZG93blwiKS5nZXRDaGlsZEJ5TmFtZSh1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy5kb3ducnVud2F5LnRvU3RyaW5nKCkpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIGlmKHVzZXJkYXRhLmFsbGZpbGUuYnVpbGRpbmdzLnVwcnVud2F5Pj05JiZ1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy5kb3ducnVud2F5Pj05KXtcbiAgICAgICAgICAgIHRoaXMucm9hZC5nZXRDaGlsZEJ5TmFtZShcIjktOVwiKS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9ZWxzZSBpZih1c2VyZGF0YS5hbGxmaWxlLmJ1aWxkaW5ncy51cHJ1bndheT49NiYmdXNlcmRhdGEuYWxsZmlsZS5idWlsZGluZ3MuZG93bnJ1bndheT49Nil7XG4gICAgICAgICAgICB0aGlzLnJvYWQuZ2V0Q2hpbGRCeU5hbWUoXCI2LTZcIikuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfWVsc2UgaWYodXNlcmRhdGEuYWxsZmlsZS5idWlsZGluZ3MudXBydW53YXk+PTMmJnVzZXJkYXRhLmFsbGZpbGUuYnVpbGRpbmdzLmRvd25ydW53YXk+PTMpe1xuICAgICAgICAgICAgdGhpcy5yb2FkLmdldENoaWxkQnlOYW1lKFwiMy0zXCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5yb2FkLmdldENoaWxkQnlOYW1lKFwiMS0xXCIpLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51c2VybmFtZS5zdHJpbmcgPSB1c2VyZGF0YS5hbGxmaWxlLm5hbWU7XG4gICAgICAgIHRoaXMuc3RhcnMuc3RyaW5nID0gdXNlcmRhdGEuYWxsZmlsZS5zdGFycztcbiAgICAgICAgdGhpcy5jb2lucy5zdHJpbmcgPSB1c2VyZGF0YS5hbGxmaWxlLm1vbmV5O1xuICAgICAgICB0aGlzLm1heGZ1ZWwgPSB1c2VyZGF0YS5hbGxmaWxlLnN0YXJzICsgMTA7XG4gICAgICAgIHRoaXMubWF4cGFzc2VuZ2VyID0gdXNlcmRhdGEuYWxsZmlsZS5zdGFycyAqIDIgKyAyMDtcbiAgICAgICAgdGhpcy5mdWVsLnByb2dyZXNzID0gdXNlcmRhdGEubGVmdHMubGVmdGZ1ZWwgLyB0aGlzLm1heGZ1ZWw7XG4gICAgICAgIHRoaXMuZnVlbG51bS5zdHJpbmcgPSB1c2VyZGF0YS5sZWZ0cy5sZWZ0ZnVlbC50b1N0cmluZygpICsgXCIvXCIgKyB0aGlzLm1heGZ1ZWwudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy5wYXNzZW5nZXIucHJvZ3Jlc3MgPSB1c2VyZGF0YS5sZWZ0cy5sZWZ0cGFzc2VuZ2VyIC8gdGhpcy5tYXhwYXNzZW5nZXI7XG4gICAgICAgIHRoaXMucGFzc2VuZ2VybnVtLnN0cmluZyA9IHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXIudG9TdHJpbmcoKSArIFwiL1wiICsgdGhpcy5tYXhwYXNzZW5nZXIudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsIDwgdGhpcy5tYXhmdWVsICYmIHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnJ1bnN0YXRlID09IGZhbHNlKXtcbiAgICAgICAgICAgIHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnJ1bnN0YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZnVlbGNsb2NrLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXIgPCB0aGlzLm1heHBhc3NlbmdlciAmJiB0aGlzLmFsbGNsb2NrLnBhc3NlbmdlcmNsb2NrLnJ1bnN0YXRlID09IGZhbHNlKXtcbiAgICAgICAgICAgIHRoaXMuYWxsY2xvY2sucGFzc2VuZ2VyY2xvY2sucnVuc3RhdGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5wYXNzZW5nZXJjbG9jay5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHN0YXJ0Y2xvY2s6ZnVuY3Rpb24oKXtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0aW1lXCIsRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKSk7XG4gICAgICAgICAgICBpZih0aGlzLmFsbGNsb2NrLmZ1ZWxjbG9jay5ydW5zdGF0ZT09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5mdWVsY2xvY2sudGltZW51bWJlciArPSAxO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuYWxsY2xvY2suZnVlbGNsb2NrLnRpbWVudW1iZXIgPT0gNjApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbGNsb2NrLmZ1ZWxjbG9jay50aW1lbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdGZ1ZWwgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy5hbGxjbG9jay5mdWVsY2xvY2sudGltZW51bWJlcjwxMCl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnVlbGNsb2NrbnVtYmVyLnN0cmluZyA9IFwiMFwiICsgdGhpcy5hbGxjbG9jay5mdWVsY2xvY2sudGltZW51bWJlci50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1ZWxjbG9ja251bWJlci5zdHJpbmcgPSB0aGlzLmFsbGNsb2NrLmZ1ZWxjbG9jay50aW1lbnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHVzZXJkYXRhLmxlZnRzLmxlZnRmdWVsPj10aGlzLm1heGZ1ZWwpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbGNsb2NrLmZ1ZWxjbG9jay5ydW5zdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbGNsb2NrLmZ1ZWxjbG9jay50aW1lbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mdWVsY2xvY2suYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay5ydW5zdGF0ZT09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyICs9IDE7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyID09IDYwKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdXNlcmRhdGEubGVmdHMubGVmdHBhc3NlbmdlciArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZih0aGlzLmFsbGNsb2NrLnBhc3NlbmdlcmNsb2NrLnRpbWVudW1iZXI8MTApe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NlbmdlcmNsb2NrbnVtYmVyLnN0cmluZyA9IFwiMFwiICsgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc2VuZ2VyY2xvY2tudW1iZXIuc3RyaW5nID0gdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay50aW1lbnVtYmVyLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHVzZXJkYXRhLmxlZnRzLmxlZnRwYXNzZW5nZXI+PXRoaXMubWF4cGFzc2VuZ2VyKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbGxjbG9jay5wYXNzZW5nZXJjbG9jay5ydW5zdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbGNsb2NrLnBhc3NlbmdlcmNsb2NrLnRpbWVudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NlbmdlcmNsb2NrLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMudGltZSA9PSA2MCl7XG4gICAgICAgICAgICAgICAgdGhpcy51cGxvYWRVc2VyRGF0YSgpO1xuICAgICAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImxlZnRzXCIsSlNPTi5zdHJpbmdpZnkodXNlcmRhdGEubGVmdHMpKTtcbiAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzdGFyc1wiLHVzZXJkYXRhLmFsbGZpbGUuc3RhcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudGltZSA9IDA7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICAgIH0sMSlcbiAgICB9LFxufSk7Il19